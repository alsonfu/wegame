System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts"],(function(o){var t,n,e,r,i,a,u;return{setters:[function(o){t=o.asyncToGenerator,n=o.regeneratorRuntime},function(o){e=o.cclegacy,r=o.director,i=o.Node,a=o.AudioSource},function(o){u=o.resMgr}],execute:function(){e._RF.push({},"32224W8MpRPprwIG5L7yfmF","AudioMgr",void 0);o("audioMgr",new(function(){function o(){this.audioRoot=void 0}var e=o.prototype;return e.prepare=function(){var o=r.getScene();this.audioRoot=new i("audioRoot"),o.addChild(this.audioRoot)},e.play=function(){var o=t(n().mark((function o(t){var e,r,c;return n().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.load(t,"audio");case 2:e=o.sent,r=new i(t),(c=r.addComponent(a)).enabled=!1,r.parent=this.audioRoot,c.clip=e,e.duration,c.playOnAwake=!0,c.enabled=!0;case 11:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),e.playOneShot=function(o){var t=this;u.load(o,"audio").then((function(n){if(n){var e=new i(o),r=e.addComponent(a);e.parent=t.audioRoot,r.playOneShot(n);var u=n.duration;setTimeout((function(){e.destroy()}),u)}}))},o}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/Crash.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Widget.ts"],(function(t){var e,i,n,o,r,s,a,c,l,u,p,h,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,l=t.Node,u=t.Button,p=t.math,h=t.tween,d=t.Vec3},function(t){f=t.Widget}],execute:function(){var _,v,y,m,g,w,b,P,k,T,N;a._RF.push({},"2d880g1GH1OM7A5j2M2sZ0v","Crash",void 0);var z=c.ccclass,F=c.property,M=c.disallowMultiple;t("Crash",(_=M(),v=F(l),y=F(l),m=F(l),g=F(u),z(w=_((P=e((b=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"rocketNode",P,o(e)),n(e,"fireNode",k,o(e)),n(e,"explodeNode",T,o(e)),n(e,"startBtn",N,o(e)),e._flyRocket=void 0,e._staticRocket=void 0,e._rocketSprite=void 0,e._lastPosition=void 0,e._elapsedTime=0,e._totalTime=5,e._radius=50,e._arcHeight=100,e._isFly=!1,e._maxSpeed=1200,e._speed=0,e._speedUpTime=3.2,e._rotateTime=2,e}i(e,t);var a=e.prototype;return a.start=function(){var t=this;this.prepare().then((function(){t.initWidget()}))},a.initWidget=function(){var t=this;this._lastPosition=this.rocketNode.position.clone(),this.startBtn.node.on("click",(function(){t._isFly=!0,t._elapsedTime=0,t.playOneShot("res/widget/crash/audio/up")}),this)},a.prepare=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.launch=function(){this.startFly(10)},a.startFly=function(t){this.rocketNode.position.clone()},a.moveToPosition=function(){var t=this,e=[new p.Vec3(0,0,0),new p.Vec3(50,100,0),new p.Vec3(100,200,0)];h(this.node).to(5,{position:new p.Vec3(100,200,0)},{progress:h.bezier(e)}).call((function(){return t.verticalFly()})).start()},a.verticalFly=function(){var t=this;this.schedule((function(e){var i=t.node.getPosition();i.y+=10*e,t.node.setPosition(i)}),0)},a.update=function(t){if(this._isFly){var e,i;this._elapsedTime+=t,i=this._elapsedTime<this._speedUpTime?this._elapsedTime/this._speedUpTime:1,this._speed=this._maxSpeed*(i*i+i)/2;var n=i*i*Math.PI/2,o=this._speed*Math.cos(n),r=this._speed*Math.sin(n);e=new d(this._lastPosition.x+o*t,this._lastPosition.y+r*t,this._lastPosition.z),this.rocketNode.setPosition(e);var s=new d;d.subtract(s,e,this._lastPosition),d.normalize(s,s);var a=Math.atan2(s.y,s.x)*(180/Math.PI);this.rocketNode.angle=a,this._lastPosition=e}},a.resetRocket=function(t){},e}(f)).prototype,"rocketNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(b.prototype,"fireNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(b.prototype,"explodeNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(b.prototype,"startBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w)||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/HttpRequeset.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"c1ea1SrHFlKVakuTX2AuC4c","HttpRequeset",void 0);e("HttpRequest",function(){function e(){}return e._isSuccess=function(e){return e.status&&e.status>=200&&e.status<400},e.send=function(e,t,n,r,s,u){return n=n||{},new Promise((function(o){var a,i=new XMLHttpRequest;if(u&&(i.responseType=u),i.onreadystatechange=function(){4===i.readyState&&o(i)},i.onerror=function(){o(i)},i.ontimeout=function(){o(i)},i.onabort=function(){o(i)},i.timeout=null!=(a=n.timeout)?a:5e3,s?i.open(t,e,s):i.open(t,e),n.headers)for(var c in n.headers){var f=n.headers[c];i.setRequestHeader(c,f)}i.send(r)}))},e.doRequest=function(e,r,s,u,o){var a,i=this,c=null!=10?10:200,f=null!=(a=(s=s||{}).retryTimes)?a:3,p=s.responseType;return new Promise(t(n().mark((function t(a,d){var l,m,h;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m=!1;case 1:if(m||!(f-- >0)){t.next=11;break}return t.next=4,i.send(e,r,s,u,o,p);case 4:if(l=t.sent,(m=i._isSuccess(l))||!(f>0)){t.next=9;break}return t.next=9,new Promise((function(e){setTimeout((function(){return e(void 0)}),c)}));case 9:t.next=1;break;case 11:m?a(l):(h=l.status?"code: "+l.status+" , "+e:"HttpRequest get fail: "+e,d(new Error(h)));case 12:case"end":return t.stop()}}),t)}))))},e.get=function(e,t,n){t&&(e+="?"+this.formatParam(t));var r=null==n?void 0:n.binary;return r&&(n.responseType="arraybuffer"),this.doRequest(e,"GET",n).then((function(e){return r?new Uint8Array(e.response):e.responseText}))},e.post=function(e,t,n){var r;return t&&(r="string"!=typeof t?this.formatParam(t):t),this.doRequest(e,"POST",n,r).then((function(e){return e.responseText}))},e.formatParam=function(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++){var s=n[r];t.push(s+"="+e[s])}return t.join("&")},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./HttpRequeset.ts"],(function(t){var e;return{setters:[function(t){e=t.cclegacy},function(e){t("HttpRequest",e.HttpRequest)}],execute:function(){e._RF.push({},"4d0c7Cs4elGvqCO6aMwFbQq","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr.ts","./AudioMgr.ts","./Widget.ts"],(function(){var e,t,n,r,a,i,o,s,c,u;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(e){n=e.cclegacy,r=e.game,a=e.Game,i=e.director,o=e.instantiate},function(e){s=e.resMgr},function(e){c=e.audioMgr},function(e){u=e.setFrontConfig}],execute:function(){n._RF.push({},"c9d20Fk6ktCC6UsCBlvYlaY","index",void 0);var f,l={mines:"res/widget/mines/prefab/Mines",fierybot:"res/widget/fierybot/prefab/Fierybot",scratch:"res/widget/scratch/prefab/Scratch",limbo:"res/widget/limbo/prefab/Limbo",crash:"res/widget/crash/prefab/Crash"},g="scratch";function p(e,t,n){u(e,t,n),f?d(g,f):new Promise((function(e){var t=setInterval((function(){var n=i.getScene();n&&(clearInterval(t),e(n))}),5)})).then((function(e){if(c.prepare(),f=e.getChildByName("Canvas"),window.location.search&&window.location.search.length>0){var t=window.location.search.substring(1).split("=");"game"===t[0]&&l[t[1]]&&(g=t[1])}d(g,f)})),d(g,f)}function d(e,t){return h.apply(this,arguments)}function h(){return(h=e(t().mark((function e(n,r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=l[n])){e.next=7;break}return e.next=4,s.load(a,"prefab");case 4:i=e.sent,o(i).parent=r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.on(a.EVENT_GAME_INITED,(function(){console.log("game start"),window.playGame=p,p({})})),n._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n("genRandomNum",(function(n,t){return Math.floor(Math.random()*(t-n+1)+n)})),t._RF.push({},"dcba4ARUiRDAJtSih7S7kVT","index",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Limbo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Widget.ts","./index3.ts"],(function(e){var t,n,r,o,i,a,s,c,l,u,p,d,f,h,b,g,y,v,m,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Node,u=e.Sprite,p=e.Label,d=e.Button,f=e.Animation,h=e.tween,b=e.math,g=e.Color,y=e.instantiate,v=e.UITransform},function(e){m=e.Widget},function(e){N=e.genRandomNum}],execute:function(){var w,k,x,R,L,F,_,S,z,I,D,E,P,V,B,C,A;s._RF.push({},"78684hFyp1Bd5eNPaSloSLo","Limbo",void 0);var O=c.ccclass,T=c.property,W=c.disallowMultiple,q="res/widget/limbo";e("Limbo",(w=W(),k=T(l),x=T(l),R=T(l),L=T(l),F=T(u),_=T(p),S=T(d),O(z=w((D=t((I=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"rocketNode",D,o(t)),r(t,"fireNode",E,o(t)),r(t,"explodeNode",P,o(t)),r(t,"recordNode",V,o(t)),r(t,"rocketSprite",B,o(t)),r(t,"resultLabel",C,o(t)),r(t,"startBtn",A,o(t)),t._flyRocket=void 0,t._staticRocket=void 0,t._minDistance=10,t._recordPrefab=void 0,t}n(t,e);var s=t.prototype;return s.start=function(){var e=this;this.prepare().then((function(){e.initWidget()}))},s.initWidget=function(){var e=this;this.startBtn.node.on("click",(function(){e.getFlyDistance().then((function(t){e.launch(t)}))}),this)},s.prepare=function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAsset(q+"/rgba/rocket1","sprite");case 2:return this._flyRocket=e.sent,e.next=5,this.getAsset(q+"/rgba/rocket","sprite");case 5:return this._staticRocket=e.sent,e.next=8,this.getAsset(q+"/prefab/Record","prefab");case 8:return e.next=10,e.sent;case 10:this._recordPrefab=e.sent;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.launch=function(e){var t=this,n=this.explodeNode.getComponent(f);n.on(f.EventType.FINISHED,(function(){console.log("animation finish"),t.explodeNode.active=!1,n.play(),n.pause()})),this.playOneShot(q+"/audio/launch"),this.explodeNode.active=!0,this.startFly(e),this.rocketSprite.spriteFrame=this._flyRocket,this.fireNode.active=!1},s.startFly=function(e){var t=this,n=this.rocketNode.position.clone();console.log(n),h(this.rocketNode).to(1,{position:new b.Vec3(n.x,this.resultLabel.node.position.y,n.z),scale:new b.Vec3(0,0,0)},{easing:"quintIn"}).call((function(){t.showResult(e),t.resetRocket(n)})).start()},s.showResult=function(e){var t=this,n=e>=this._minDistance,r=parseFloat(this.resultLabel.string),o=(e-r)/10;(o=parseFloat(o.toFixed(2)))>0?o=o<.01?.01:o:o<0&&(o=o>-.01?-.01:o);var i=r;this.resultLabel.color=g.WHITE,this.resultLabel.node.scale=new b.Vec3(1,1,1);var a=setInterval((function(){var r=!1,s=parseFloat((i+o).toFixed(2));if(console.log(i,s,o),o>0?s>=e&&(r=!0):o<0?s<=e&&(r=!0):r=!0,r){clearInterval(a),t.resultLabel.string=e+"x";var c=y(t._recordPrefab),l=c.getComponentInChildren(p),d=c.getComponent(u);l.string=e+"x",n?(t.resultLabel.color=g.GREEN,t.playOneShot(q+"/audio/win"),d.color=g.GREEN,h(t.resultLabel.node).to(.25,{scale:new b.Vec3(1.5,1.5,1.5)},{easing:"quadIn"}).to(.25,{scale:new b.Vec3(1,1,1)},{easing:"quadOut"}).call((function(){console.log("finish")})).start()):(d.color=g.RED,t.resultLabel.color=g.RED,t.playOneShot(q+"/audio/fail"));var f=t.recordNode.position.clone(),m=c.getComponent(v);h(t.recordNode).to(.5,{position:new b.Vec3(f.x-(m.width+5),f.y,f.z)}).call((function(){console.log("finish"),t.recordNode.setPosition(f),c.parent=t.recordNode,c.setSiblingIndex(0)})).start()}else t.resultLabel.string=s+"x",i=s}),50)},s.getFlyDistance=function(){var e=i(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N(100,3e3),e.abrupt("return",t/100);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.resetRocket=function(e){this.rocketNode.setPosition(e.x,e.y-200,e.z),this.rocketNode.setScale(1,1,1),this.rocketSprite.spriteFrame=this._staticRocket,this.fireNode.active=!0,h(this.rocketNode).to(.5,{position:e,scale:new b.Vec3(1,1,1)},{easing:"cubicOut"}).call((function(){console.log("finish")})).start()},t}(m)).prototype,"rocketNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(I.prototype,"fireNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(I.prototype,"explodeNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(I.prototype,"recordNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(I.prototype,"rocketSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(I.prototype,"resultLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(I.prototype,"startBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=I))||z)||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Widget.ts","./index2.ts","./HttpRequeset.ts","./index.ts","./AudioMgr.ts","./ResMgr.ts","./index3.ts","./Crash.ts","./Limbo.ts","./Mines.ts","./MinesItem.ts","./Scratch.ts","./ScratchItem.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Mines.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Widget.ts","./index3.ts","./MinesItem.ts"],(function(t){var e,n,i,s,r,o,a,c,u,h,l,b,m,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,u=t.Node,h=t.Button,l=t.Label,b=t.instantiate},function(t){m=t.Widget},function(t){f=t.genRandomNum},function(t){p=t.MinesItem}],execute:function(){var g,d,_,v,B,I,y;a._RF.push({},"103a39xjv1Jp4hU9uALkqtz","Mines",void 0);var x=c.ccclass,A=c.property,w=c.disallowMultiple,P="res/widget/mines";t("Mines",(g=w(),d=A(u),_=A(h),x(v=g((I=e((B=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"gamePanel",I,s(e)),i(e,"startBtn",y,s(e)),e._bombIcon=void 0,e._coinIcon=void 0,e._bombBg=void 0,e._coinBg=void 0,e.startLabel=void 0,e.coinAudio=void 0,e.bombAudio=void 0,e._bombs=[],e._mines=[],e._items=[],e._itemPrefab=void 0,e}n(e,t);var a=e.prototype;return a.start=function(){var t=this;this.startLabel=this.startBtn.getComponentInChildren(l),this.startBtn.node.on("click",(function(){t.startPlay()}),this),this.prepare().then((function(){t.createItems(25),t.startPlay()}))},a.prepare=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAsset(P+"/rgba/bomb","sprite");case 2:return this._bombIcon=t.sent,t.next=5,this.getAsset(P+"/rgba/coin","sprite");case 5:return this._coinIcon=t.sent,t.next=8,this.getAsset(P+"/rgba/redBase","sprite");case 8:return this._bombBg=t.sent,t.next=11,this.getAsset(P+"/rgba/yellowBase","sprite");case 11:return this._coinBg=t.sent,t.next=14,this.getAsset(P+"/audio/coin","audio");case 14:return this.coinAudio=t.sent,t.next=17,this.getAsset(P+"/audio/bomb","audio");case 17:return this.bombAudio=t.sent,t.next=20,this.getAsset(P+"/prefab/Item","prefab");case 20:this._itemPrefab=t.sent;case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.startPlay=function(){var t=r(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.createBombMap(5,5).then((function(){console.log("mines start: ",e._bombs),e.resetItems(),e.startBtn.interactable=!1,e.startLabel.string="Coin: 0"}));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.createBombMap=function(t,e){var n=this;return new Promise((function(i){for(var s=e*e,r=[],o=0;o<s;o++)r.push(o);for(var a=0;a<t;a++){var c=f(0,r.length-1);n._bombs.push(r[c]),r.splice(c,1)}setTimeout((function(){i()}),50)}))},a.createItems=function(t,e){for(var n=0;n<t;n++){var i=b(this._itemPrefab);i.parent=this.gamePanel;var s=i.getComponent(p);s.onClick=this.onClickItem.bind(this),this._items.push(s)}},a.onClickItem=function(t){var e=t.node.getSiblingIndex();console.log("click item: ",t.node.getSiblingIndex()),this.setMineResult(e)},a.isBombAsync=function(){var t=r(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._bombs.indexOf(e)>-1);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.isBomb=function(t){return this._bombs.indexOf(t)>-1},a.setMineResult=function(t){var e=this,n=this._items[t];this.isBombAsync(t).then((function(i){e._mines.push(t),i?(e.playOneShot(P+"/audio/bomb"),n.setBg(e._bombBg),n.setIcon(e._bombIcon),e.gameOver()):(e.playOneShot(P+"/audio/coin"),n.setBg(e._coinBg),n.setIcon(e._coinIcon,!0),e.startLabel.string="Coin: "+e._mines.length,20===e._mines.length&&e.gameOver())}))},a.gameOver=function(){this.showAllResult(),this.startBtn.interactable=!0,this.startBtn.getComponentInChildren(l).string="Start",this._bombs=[],this._mines=[]},a.showAllResult=function(){for(var t=0;t<25;t++)if(-1===this._mines.indexOf(t)){var e=this._items[t];this.isBomb(t)?(e.setIcon(this._bombIcon),e.setBg(this._bombBg)):(e.setIcon(this._coinIcon),e.setBg(this._coinBg)),e.setActive(!1)}},a.resetItems=function(){this._items.forEach((function(t){t.reset()}))},e}(m)).prototype,"gamePanel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(B.prototype,"startBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=B))||v)||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/MinesItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,o,s,r,c,l,a,h,p,_,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i.cclegacy,r=i._decorator,c=i.Node,l=i.Color,a=i.Sprite,h=i.Button,p=i.tween,_=i.Vec3,u=i.Component}],execute:function(){var d,g,v,f,S;s._RF.push({},"6155dHW4J5AlaKn5rJBEs6G","MinesItem",void 0);var m=r.ccclass,b=r.property,B=r.disallowMultiple;i("MinesItem",(d=B(),g=b(c),m(v=d((S=t((f=function(i){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,e(t,"iconNode",S,o(t)),t.onClick=null,t._originIcon=void 0,t._originBg=void 0,t._bgSprite=void 0,t._iconSprite=void 0,t._clickBtn=void 0,t._originPos=void 0,t}n(t,i);var s=t.prototype;return s.setActive=function(i){if(this._clickBtn.enabled=i,i)this._bgSprite.color=l.WHITE,this._iconSprite.color=l.WHITE;else{var t=new l(170,170,200,255);this._bgSprite.color=t,this._iconSprite.color=t}},s.start=function(){var i=this;this._bgSprite=this.node.getComponent(a),this._originBg=this._bgSprite.spriteFrame,this._iconSprite=this.iconNode.getComponent(a),this._originIcon=this._iconSprite.spriteFrame,this._clickBtn=this.node.getComponent(h),this.node.on("click",(function(){null==i.onClick||i.onClick(i._clickBtn),i._clickBtn.enabled=!1}),this),this.node.on(c.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(c.EventType.MOUSE_LEAVE,this.onMouseLeave,this),this.setActive(!1),this.playAnimation()},s.onMouseEnter=function(){this._clickBtn.enabled&&this._clickBtn.interactable&&(this._originPos||(this._originPos=this.node.position.clone()),p(this.node).to(.1,{position:new _(this._originPos.x,this._originPos.y-2,this._originPos.z)},{}).start())},s.onMouseLeave=function(){this._clickBtn.enabled&&this._clickBtn.interactable&&p(this.node).to(.2,{position:this._originPos},{}).start()},s.playAnimation=function(){p(this.node).to(0,{scale:new _(0,0,0)}).to(.3,{scale:new _(1,1,1)},{}).start()},s.setIcon=function(i,t){void 0===t&&(t=!1),this._iconSprite.spriteFrame=i,t&&p(this._iconSprite.node).to(0,{scale:new _(0,0,0)}).to(.15,{scale:new _(1,1,1)},{}).start()},s.setBg=function(i){this._bgSprite.spriteFrame=i},s.reset=function(){this._bgSprite.spriteFrame=this._originBg,this._iconSprite.spriteFrame=this._originIcon,this.setActive(!0),this.playAnimation()},t}(u)).prototype,"iconNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=f))||v)||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,s,a,i,o,u,c,l,p,f,d,g,v,x;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e.JsonAsset,a=e.TextAsset,i=e.Prefab,o=e.SpriteAtlas,u=e.Texture2D,c=e.SpriteFrame,l=e.sp,p=e.Mesh,f=e.Material,d=e.AudioClip,g=e.Font,v=e.ImageAsset,x=e.assetManager}],execute:function(){r._RF.push({},"e31a4jgMPFBsooMKj27cFto","ResMgr",void 0);var h={json:s,text:a,prefab:i,spriteAtlas:o,tex2d:u,sprite:c,spine:l.SkeletonData,mesh:p,material:f,audio:d,font:g};e("resMgr",new(function(){function e(){}var r=e.prototype;return r.load=function(){var e=t(n().mark((function e(t,r){var a,i,o,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.indexOf("/"),i=t.substring(0,a),o=t.substring(a+1),u=x.getBundle(i)){e.next=8;break}return e.next=7,this.loadBundle(i);case 7:u=e.sent;case 8:return e.abrupt("return",new Promise((function(e){var n=h[r];"sprite"===r?o+="/spriteFrame":"tex2d"===r&&(o+="/texture"),u.load(o,n,(function(n,a){var o=a;if(n)console.warn("load failed : ",t,i,"\n",n);else switch(r){case"json":if(a instanceof s)o=Object.assign(a.json);else{var u=o._nativeAsset;o=JSON.parse(u)}break;case"text":o=a.text;break;case"sprite":a instanceof v&&(o=c.createWithImage(a))}e(n?void 0:o)}))})));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.loadBundle=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){x.loadBundle(t,(function(t,n){e(t?null:n)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/Scratch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Widget.ts","./index3.ts","./ScratchItem.ts"],(function(t){var e,r,i,n,s,a,c,o,h,l,u,d,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,o=t._decorator,h=t.Node,l=t.Button,u=t.Label},function(t){d=t.Widget},function(t){p=t.genRandomNum},function(t){f=t.ScratchItem}],execute:function(){var g,_,b,m,v,L,S,x,y,w,I,B,T,P,R,E,N;c._RF.push({},"7fde6MGE7xAbKwD1L+RcIN5","Scratch",void 0);var C=o.ccclass,k=o.property,z=o.disallowMultiple;t("Scratch",(g=z(),_=k(h),b=k(l),m=k(u),v=k(u),L=k(u),S=k(u),x=k(u),C(y=g((I=e((w=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"itemsPanel",I,n(e)),i(e,"startBtn",B,n(e)),i(e,"amountLabel",T,n(e)),i(e,"tipLabel",P,n(e)),i(e,"cardIdLabel",R,n(e)),i(e,"remainNumLabel",E,n(e)),i(e,"startBtnLabel",N,n(e)),e._items=[],e._icons=[],e._cards=void 0,e._currentIdx=0,e._isScratching=!1,e._cardProgress=[],e}r(e,t);var c=e.prototype;return c.start=function(){var t=this;this.initData(),window.setttleCard=this.settleCard.bind(this);for(var e=0;e<this.itemsPanel.children.length;e++){var r=this.itemsPanel.children[e];this._items.push(r.getComponent(f))}this._cards||this.genScratchcard(3),this.startBtn.enabled=!1,this.remainNumLabel.string="Scratchcard Remaining: "+this._cards.length,this.startBtn.node.on("click",(function(){t.processClick()}),this),this.prepare().then((function(){t.startBtn.enabled=!0}))},c.initData=function(){var t=this.frontData;t&&t.cards&&(this._cards=t.cards)},c.processClick=function(){this._isScratching?(this.startBtn.enabled=!1,this._items.forEach((function(t){t.revealAll()})),this._currentIdx<this._cards.length&&this.settleCard()):(this._currentIdx<this._cards.length&&(this.updateScratchcards(),this.startBtnLabel.string="REVEAL ALL",this.closeResultTip(),this._isScratching=!0),this.notifyFront({remaining:this._cards.length-this._currentIdx}))},c.updateScratchcards=function(){this.remainNumLabel.string="Scratchcard Remaining: "+(this._cards.length-this._currentIdx-1),this.cardIdLabel.string="No."+this._cards[this._currentIdx].id;for(var t=this._cards[this._currentIdx].values,e=0;e<this._items.length;e++){var r=this._items[e];r.isStratched&&r.reset();var i=t[e],n=this._icons[i];r.setIcon(n),this._cardProgress.push(e)}},c.onLoad=function(){this.node.on(h.EventType.MOUSE_UP,this.onTouchEnd,this),this.itemsPanel.parent.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this)},c.prepare=function(){var t=s(a().mark((function t(){var e,r,i,n,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],r=0;r<7;r++)i="res/widget/scratch/rgba/item_"+r,e.push(this.getAsset(i,"sprite"));return t.next=4,Promise.all(e);case 4:for(n=t.sent,s=0;s<n.length;s++)this._icons.push(n[s]);this._serverInfo={host:"http://192.168.31.64:8080"};case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.scratchNext=function(){this._cardProgress=[],this.startBtnLabel.string="Scratch Next"},c.genScratchcard=function(t){this._cards=[];for(var e=0;e<t;e++){for(var r=[],i=0;i<this._items.length;i++)r.push(p(0,6));var n={id:"202403222-65864546-058"+e,values:r,amount:0};this._cards.push(n)}},c.onTouchEnd=function(t){console.log("onTouchEnd: 11")},c.onTouchMove=function(t){if(this._isScratching){for(var e=0;e<this._items.length;e++){var r=this._items[e],i=r.onTouchMove(t);if(r.isStratched){var n=this._cardProgress.indexOf(e);n>-1&&this._cardProgress.splice(n,1)}if(i)break}0==this._cardProgress.length&&this.settleCard()}},c.settleCard=function(){var t=s(a().mark((function t(){var e,r,i,n,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.startBtn.enabled=!1,this._isScratching=!1,e=this._cards[this._currentIdx],r=!1,i=0,t.prev=5,t.next=8,this.sendReq("scratch/settle/"+e.id);case 8:0===(n=t.sent).code&&(i=n.data.amount,r=!0),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),console.error(t.t0);case 15:s=r?"You Are Win":"Settle Card Fail",this.showResultTip(s,i),this._currentIdx+=1,this.startBtn.enabled=!0,this._currentIdx<this._cards.length?this.scratchNext():this.startBtnLabel.string="Buy Tickets";case 20:case"end":return t.stop()}}),t,this,[[5,12]])})));return function(){return t.apply(this,arguments)}}(),c.showResultTip=function(t,e){void 0===e&&(e=0),this.tipLabel.string=t,this.amountLabel.string=e.toString(),this.amountLabel.node.parent.parent.active=!0},c.closeResultTip=function(){this.amountLabel.node.parent.parent.active=!1},e}(d)).prototype,"itemsPanel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(w.prototype,"startBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(w.prototype,"amountLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"tipLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(w.prototype,"cardIdLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(w.prototype,"remainNumLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(w.prototype,"startBtnLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=w))||y)||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/ScratchItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Widget.ts"],(function(i){var t,r,s,o,e,h,a,n,c,u,d,l,_,m,f,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,r=i.inheritsLoose,s=i.initializerDefineProperty,o=i.assertThisInitialized,e=i.createClass,h=i.asyncToGenerator,a=i.regeneratorRuntime},function(i){n=i.cclegacy,c=i._decorator,u=i.Graphics,d=i.Sprite,l=i.UITransform,_=i.Mask,m=i.Vec3,f=i.Vec2},function(i){p=i.Widget}],execute:function(){var g,v,T,y,k,S,b,w,G;n._RF.push({},"2b189l2oC1AlLAslKEatf1k","ScratchItem",void 0);var N=c.ccclass,x=c.property,C=c.disallowMultiple;i("ScratchItem",(g=C(),v=x(u),T=x(d),y=x(l),N(k=g((b=t((S=function(i){function t(){for(var t,r=arguments.length,e=new Array(r),h=0;h<r;h++)e[h]=arguments[h];return t=i.call.apply(i,[this].concat(e))||this,s(t,"maskGraphics",b,o(t)),s(t,"iconSprite",w,o(t)),t.brushSize=20,s(t,"uiTransform",G,o(t)),t._mask=void 0,t._previousPos=void 0,t._previousTouchPos=void 0,t._leftBorder=void 0,t._rightBorder=void 0,t._topBorder=void 0,t._bottomBorder=void 0,t._grid=void 0,t._gridSize=void 0,t._gridRowNum=void 0,t._gridColumnNum=void 0,t._gridTotalNum=0,t._brushRadius=void 0,t._scratchCount=0,t._isScratched=!1,t}r(t,i);var n=t.prototype;return n.start=function(){var i=this;this.prepare().then((function(){i.initWidget()})),this._mask=this.maskGraphics.node.getComponent(_),this.maskGraphics.lineWidth=this.brushSize,this._brushRadius=this.brushSize/2,this._gridSize=this.brushSize;var t=this.maskGraphics.node.getWorldPosition(),r=this.uiTransform.width/2,s=this.uiTransform.height/2;this._leftBorder=t.x-r,this._rightBorder=t.x+r,this._bottomBorder=t.y-s,this._topBorder=t.y+s,this.maskGraphics.fill(),this.initGrid()},n.initGrid=function(){this._gridColumnNum=Math.floor(this.uiTransform.width/this._gridSize),this._gridRowNum=Math.floor(this.uiTransform.height/this._gridSize),this._grid=[];for(var i=0;i<this._gridRowNum;i++){this._grid[i]=new Array(this._gridColumnNum);var t=this._gridRowNum-1-i;t=t<i?t:i;for(var r=0;r<this._gridColumnNum;r++){var s=this._gridColumnNum-1-r;s=s<r?s:r,this._grid[i][r]=(t<s?t:s)+1,this._gridTotalNum+=this._grid[i][r]}}},n.resetGrid=function(){for(var i=0;i<this._grid.length;i++)for(var t=this._grid[i],r=0;r<t.length;r++)t[r]<0&&(t[r]=-t[r]);this._scratchCount=0},n.initWidget=function(){},n.prepare=function(){var i=h(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),n.onLoad=function(){},n.setIcon=function(i){console.log("setIcon: ",i),this.iconSprite.spriteFrame=i},n.onTouchMove=function(i){var t=i.getUILocation();if(t.x>this._rightBorder||t.x<this._leftBorder||t.y>this._topBorder||t.y<this._bottomBorder)return this._previousPos=void 0,!1;var r=this.uiTransform.convertToNodeSpaceAR(new m(t.x,t.y,0));return this._previousPos?(this.maskGraphics.lineTo(r.x,r.y),this.maskGraphics.stroke(),this.maskGraphics.circle(r.x,r.y,this._brushRadius),this.maskGraphics.fill(),this.markScratchArea(new f(this._previousTouchPos.x-this._leftBorder,this._previousTouchPos.y-this._bottomBorder),new f(t.x-this._leftBorder,t.y-this._bottomBorder))):(this.maskGraphics.moveTo(r.x,r.y),this.maskGraphics.circle(r.x,r.y,this._brushRadius),this.maskGraphics.fill(),this.markScratchArea(new f(t.x-this._leftBorder,t.y-this._bottomBorder))),this._previousPos=r,this._previousTouchPos=t,this._scratchCount/this._gridTotalNum>.6&&(this._isScratched=!0,console.log("scratch complete: ",this._scratchCount,this._gridTotalNum)),!0},n.markScratchArea=function(i,t){var r=Math.floor(i.x/this.uiTransform.width*this._gridColumnNum),s=Math.floor(i.y/this.uiTransform.height*this._gridRowNum),o=this._grid[s][r];if(o>0&&(this._scratchCount+=o,this._grid[s][r]=-o),t){var e=Math.floor(t.x/this.uiTransform.width*this._gridColumnNum),h=Math.floor(t.y/this.uiTransform.height*this._gridRowNum);if((o=this._grid[h][e])>0&&(this._scratchCount+=o,this._grid[h][e]=-o),r!==e){var a=(t.y-i.y)/(t.x-i.x),n=r,c=e,u=s;n>c&&(n=e,c=r,u=h);for(var d=n+1;d<c;d++){var l=Math.floor((d-n)*a+u);(o=this._grid[l][d])>0&&(this._scratchCount+=o,this._grid[l][d]=-o)}}else{var _=s,m=h;_>m&&(_=h,m=s);for(var f=r,p=_+1;p<m;p++)(o=this._grid[p][f])>0&&(this._scratchCount+=o,this._grid[p][f]=-o)}}},n.revealAll=function(){this._mask.enabled=!1,this._isScratched=!0},n.onTouchStart=function(i){var t=i.getUILocation(),r=this.uiTransform.convertToNodeSpaceAR(new m(t.x,t.y,0));this.maskGraphics.moveTo(r.x,r.y),this._previousPos=r,this._previousTouchPos=t},n.onTouchEnd=function(i){this._previousPos=void 0;var t=this._scratchCount/this._gridTotalNum;console.log("onTouchEnd: ",t,this._scratchCount,this._gridTotalNum)},n.reset=function(){this.resetGrid(),this._isScratched=!1,this._mask.enabled=!0,this.maskGraphics.clear(),this.maskGraphics.fill()},e(t,[{key:"isStratched",get:function(){return this._isScratched}}]),t}(p)).prototype,"maskGraphics",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(S.prototype,"iconSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(S.prototype,"uiTransform",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=S))||k)||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/Widget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./ResMgr.ts","./index.ts","./HttpRequeset.ts"],(function(n){var t,e,o,r,i,u,s;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){o=n.cclegacy,r=n.Component},function(n){i=n.audioMgr},function(n){u=n.resMgr},null,function(n){s=n.HttpRequest}],execute:function(){var a,c,f;n("setFrontConfig",(function(n,t,e){f=n,a=e,c=t})),o._RF.push({},"41955katAZPOaPRJ89/Jl38","Widget",void 0);n("Widget",function(n){function o(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this)._serverInfo=void 0,t.resCacheMap={},t}t(o,n);var r=o.prototype;return r.start=function(){},r.onLoad=function(){},r.onEnable=function(){},r.onDisable=function(){},r.onDestroy=function(){},r.startPlay=function(n){},r.notifyFront=function(n){null==c||c(n)},r.getAsset=function(n,t){var e=this,o=n+":"+t;this.resCacheMap[o];return u.load(n,t).then((function(n){return n&&(e.resCacheMap[o]=n),n}))},r.playBgm=function(n){i.play(n)},r.playOneShot=function(n){i.playOneShot(n)},r.sendReq=function(n,t){return s.post(this.serverInfo.host+"/"+n,t).then((function(n){var t;return n&&(t=JSON.parse(n)),t}))},e(o,[{key:"serverInfo",get:function(){var n;return null!=(n=a)?n:this._serverInfo}},{key:"frontData",get:function(){return f}}]),o}(r));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});